From 634f8bee3aec5af9e44c7aacfccfb0f16fbcb5a8 Mon Sep 17 00:00:00 2001
From: "Mark R. Tuttle" <mrtuttle@amazon.com>
Date: Tue, 26 Feb 2019 17:20:06 -0500
Subject: [PATCH 6/8] Fixed two typos in refactoring of prvCheckOptions

---
 lib/FreeRTOS-Plus-TCP/source/FreeRTOS_TCP_IP.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/lib/FreeRTOS-Plus-TCP/source/FreeRTOS_TCP_IP.c b/lib/FreeRTOS-Plus-TCP/source/FreeRTOS_TCP_IP.c
index 8ee080218..06bc6a2d6 100644
--- a/lib/FreeRTOS-Plus-TCP/source/FreeRTOS_TCP_IP.c
+++ b/lib/FreeRTOS-Plus-TCP/source/FreeRTOS_TCP_IP.c
@@ -1184,7 +1184,7 @@ BaseType_t prvSingleStepTCPHeaderOptions( const unsigned char ** const ppucPtr,
 {
 	UBaseType_t uxNewMSS;
 	UBaseType_t xRemainingOptionsBytes = ( *ppucLast ) - ( *ppucPtr );
-	BaseType_t xRet = pdTrue;
+	BaseType_t xRet = pdTRUE;
 	unsigned char ucLen;
 
 	if( ( *ppucPtr )[ 0 ] == TCP_OPT_END )
@@ -1254,7 +1254,7 @@ BaseType_t prvSingleStepTCPHeaderOptions( const unsigned char ** const ppucPtr,
 				FreeRTOS_debug_printf( ( "Change mss %d => %lu\n", ( *ppxSocket )->u.xTCP.usCurMSS, uxNewMSS ) );
 				( *ppxSocket )->u.xTCP.usCurMSS = ( uint16_t ) uxNewMSS;
 			}
-			( *ppxTCPWindow )->xSize.ulRxWindowLength = ( ( uint32_t ) uxNewMSS ) * ( ( *pxTCPWindow )->xSize.ulRxWindowLength / ( ( uint32_t ) uxNewMSS ) );
+			( *ppxTCPWindow )->xSize.ulRxWindowLength = ( ( uint32_t ) uxNewMSS ) * ( ( *ppxTCPWindow )->xSize.ulRxWindowLength / ( ( uint32_t ) uxNewMSS ) );
 			( *ppxTCPWindow )->usMSSInit = ( uint16_t ) uxNewMSS;
 			( *ppxTCPWindow )->usMSS = ( uint16_t ) uxNewMSS;
 			( *ppxSocket )->u.xTCP.usInitMSS = ( uint16_t ) uxNewMSS;
-- 
2.21.0

